@using BlazorServerTree.App.UIHelpers
@using System.Collections.Generic

@if ( @uiNode.Actions.Count() > 0 ) {
    <div class="btn-group float-right">
        <button type="button" 
                class="btn btn-primary dropdown-toggle" 
                data-toggle="dropdown" 
                aria-haspopup="true" 
                aria-expanded="false"
                onclick=@ToggleActionsMenu>
            Action
        </button>
        <div class="dropdown-menu @CollapsedActionsMenu dropdown-menu-right" 
            aria-labelledby="dropdownMenuButton">

            @foreach(UITreeNodeAction action in @uiNode.Actions ) {
                <button class="dropdown-item" type="button">
                    <span class="@action.OpenIconic"></span> @action.Name
                </button>
            }
        </div>
    </div>
}

@functions {

#pragma warning disable BL9993, CS4014 // Component parameter is marked public

    [Parameter]
    public UITreeNode uiNode { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    bool isCollapsedActionsMenu = true;
    string CollapsedActionsMenu = "none;";

    void ToggleActionsMenu()
    {
        isCollapsedActionsMenu = !isCollapsedActionsMenu;
        CollapsedActionsMenu = (isCollapsedActionsMenu)?"":"show";
        StateHasChanged();
    }


#pragma warning restore BL9993, CS4014 // Component parameter is marked public

}